<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Blam.js by darthapo</title>

    <link rel="stylesheet" href="stylesheets/highlight/github.css">
    <link rel="stylesheet" href="stylesheets/styles.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1 style="display:none;">Blam.js</h1>
        <p>Templates are just code.</p>
        <p><a href="test/index.html">Run the unit tests...</a></p>
        <p class="view"><a href="https://github.com/darthapo/blam.js">View the Project on GitHub <small>darthapo/blam.js</small></a></p>
        <ul>
          <li><a href="https://github.com/darthapo/blam.js/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/darthapo/blam.js/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/darthapo/blam.js">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
<!-- Content -->
<h1>blam.js</h1>

<p><strong>Simple, Tiny, Fast</strong> (enough)</p>

<p>Example usage (in CoffeeScript):</p>

<pre><code class="coffeescript">blam(-&gt;
  html(
    head(
      title( &quot;Hello&quot; )
      script( src:&quot;/my-script.js&quot; )
      link( rel:&quot;stylesheet&quot;, type:&quot;text/css&quot;, href:&quot;/my-styles.css&quot; )
    )
    body(
      article( id:&quot;main&quot;,
        section.content(
          p(&quot;Loading...&quot;)
        )
        aside.sidebar( &quot;Nav here&quot; )
      )
    )
  )
)</code></pre>

<p>You can use it in JavaScript too (but it&#8217;s much prettier in CoffeeScript):</p>

<pre><code class="javascript">blam(function(){
  return html(
    head(
      title( &quot;Hello&quot; ), 
      script({ src: &quot;/my-script.js&quot; }),
      link({ rel: &quot;stylesheet&quot;, type: &quot;text/css&quot;, href: &quot;/my-styles.css&quot; })), 
      body(
        article({ id: &quot;main&quot; }, 
          section.content(
            p(&quot;Loading...&quot;)
          ), 
        aside.sidebar( &quot;Nav here&quot;)
      )
    )
  )
});</code></pre>

<p>If you like, you can compile string templates as well (you&#8217;ll need to use the javascript syntax):</p>

<pre><code class="html">&lt;script type=&quot;text/blam&quot; id=&quot;my_template&quot;&gt;
article.container(
  section.main(
    p(&quot;Hello!&quot;)
  ),
  aside.sidebar(
    ul(
      li(&quot;Navigation, mayhaps?&quot;)
    )
  )
)
&lt;/script&gt;
&lt;script&gt;
var template_string= document.getElementById(&apos;my_template&apos;);
// Render it...
var html= blam( template_string );

// Or if you&apos;re gonna reuse the template, you should probably compile it:
var template= blam.compile( template_string );

// then however many times you want
var html= template();
&lt;/script&gt;</code></pre>

<h2>Notes</h2>

<p>Clocks in at ~1K minified and gzipped.</p>

<p>MIT Licensed.</p>

<p>Unit tests can be found at: <a href="http://darthapo.github.com/blam.js/test">darthapo.github.com/blam.js/test</a></p>

<p><strong><em>Please</em> let me know if any of the tests break in your browser!</strong></p>

<p>If the first argument to a tag block is an object literal then its key/value pairs are used as tag attributes.</p>

<pre><code class="coffeescript">blam -&gt;
  div( id:&quot;posts&quot;, &apos;data-role&apos;:&quot;post&quot;,
    p(&quot;content here...&quot;)
  )
# =&gt; &apos;&lt;div id=&quot;posts&quot; data-role=&quot;post&quot;&gt;&lt;p&gt;content here...&lt;/p&gt;&lt;/div&gt;&apos;</code></pre>

<p>Blam will pass initial arguments on to the markup block:</p>

<pre><code class="coffeescript">blam name:&apos;Matt&apos;, (user)-&gt;
  div( id:&apos;user-block&apos;,
    p(&quot;Hello &quot;, user.name)
  )</code></pre>

<p>Markup blocks can be &#8220;compiled&#8221; into an executable function (good for often repeated bits of code):</p>

<pre><code class="coffeescript">template= blam.compile (user)-&gt;
  div( id:&apos;user-block&apos;,
    p(&quot;Hello &quot;, user.name)
  )

html+= template(user) for user in all_users</code></pre>

<p>For array elements you can use the <code>each</code> tag:</p>

<pre><code class="coffeescript">template= blam.compile (users)-&gt;
  div( id:&apos;user-block&apos;,
    each(users, (user)-&gt;
      p(&quot;Hello &quot;, user.name)
    )
  )

html+= template(all_users)</code></pre>

<p>You can create partials/custom tags:</p>

<pre><code class="coffeescript">blam.define &apos;layout&apos;, -&gt;
  article.container(
    header( h1( &quot;My App&quot; ) )
    section.body( __(arguments) )
    footer( p(&quot;&amp;copy; me!&quot;) )
  )</code></pre>

<p>You can then use it like a tag:</p>

<pre><code class="coffeescript">blam @posts, (posts)-&gt;
  layout(
    div.posts(
      each(posts, (post)-&gt;
        div.entry( post.body )
      )
    )
  )</code></pre>

<p>You can turn off the fancy auto css class support:</p>

<pre><code class="coffeescript">blam.fancy(no)

# You have to use the attributes hash to add classnames now:
blam -&gt;
  div( class:&apos;my-class&apos;, &quot;Content&quot;)</code></pre>

<h2>Scopes</h2>

<p>You can add a single object to a markup block&#8217;s scope when pre-compiling templates:</p>

<pre><code class="coffeescript">data=
  name: &apos;Me&apos;
  age: &apos;Old Enough&apos;

template= blam.scope(data).compile -&gt;
  div( name, &quot; is &quot;, age )

html= template()
#=&gt; &quot;&lt;div&gt;Me is Old Enough&lt;/div&gt;&quot;</code></pre>

<h2>Backbone Mini Example</h2>

<pre><code class="coffeescript">
class TweetView extends Backbone.View
  @template: blam.compile (tweet)-&gt;
    div.tweet(
      img.avatar( 
        src: tweet.profile_image_url
        alt: tweet.from_user_name
      )
      div.status(
        tweet.status
      )
      div.footer(
        &quot;@&quot;
        tweet.from_user
        &quot; said on &quot;
        tweet.created_at
      )
    )

  render: -&gt;
    @$el.html TweetView.template( @model.toJSON() )</code></pre>

<h2>Node.js</h2>

<p>Blam is available as an npm package as well. To install:</p>

<p><code>npm install blam</code></p>

<p>Or, use the <code>-g</code> option to install it globally:</p>

<p><code>npm install blam -g</code></p>

<p>Then <code>require</code> it as per usual in node:</p>

<pre><code class="javascript">var blam= require(&apos;blam&apos;).blam;

blam.compile(function(){ return div(&quot;etc...&quot;) })</code></pre>

<h2>Todo</h2>

<ul>
<li><p>Need to cleanup this ReadMe and create some proper docs.</p></li>
<li><p>Would like to support all the modern browsers and possibly as far back as IE8?</p></li>
<li><p>Need to test AMD support.</p></li>
<li><p>Extract and expose tag building helpers.</p></li>
<li><p>Dasherize attributes? (dataRole:&#8220;page&#8221; would expand to &#8216;data-role=&#8220;page&#8221;&#8217;)</p></li>
</ul>

<h2>Aren&#8217;t <code>eval</code> and <code>with</code> Evil?</h2>

<p><strong>No!</strong> They&#8217;re just <em>misunderstood</em>. Blam.js is a good example of why they are useful as language features. They allow excellent DSL generation.</p>

<p>That having been said, it <em>is</em> a good rule of thumb that if you don&#8217;t know when is best to use them; don&#8217;t.</p>
<!-- /Content -->
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/darthapo">darthapo</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    <script src="javascripts/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="blam.min.js"></script>
  </body>
</html>